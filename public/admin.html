<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FutWear - Admin</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="font-sans bg-gray-50 text-gray-900 min-h-screen">
  <div id="app" class="min-h-screen grid grid-cols-1 lg:grid-cols-[260px_1fr]">
    <aside class="bg-white border-r border-gray-200 p-4 lg:min-h-screen">
      <div class="flex items-center gap-2 mb-6">
        <i class="fas fa-shield-alt text-green-600"></i>
        <h1 class="font-bold">Painel Admin</h1>
      </div>
      <nav class="space-y-2">
        <button data-tab="dashboard" class="w-full text-left px-3 py-2 rounded-lg hover:bg-green-50 text-gray-700 font-medium active">Dashboard</button>
        <button data-tab="products" class="w-full text-left px-3 py-2 rounded-lg hover:bg-green-50 text-gray-700 font-medium">Produtos</button>
        <button data-tab="promotions" class="w-full text-left px-3 py-2 rounded-lg hover:bg-green-50 text-gray-700 font-medium">Promoções</button>
        <button data-tab="reviews" class="w-full text-left px-3 py-2 rounded-lg hover:bg-green-50 text-gray-700 font-medium">Avaliações</button>
        <button data-tab="orders" class="w-full text-left px-3 py-2 rounded-lg hover:bg-green-50 text-gray-700 font-medium">Pedidos</button>
      </nav>
      <div class="mt-6 text-sm text-gray-500" id="adminUserInfo"></div>
    </aside>

    <main class="p-6">
      <!-- Guards / Messages -->
      <div id="guardMessage" class="hidden p-4 bg-yellow-50 border border-yellow-200 rounded-lg text-yellow-800 mb-4"></div>

      <!-- Dashboard -->
      <section id="tab-dashboard" class="space-y-6">
        <h2 class="text-2xl font-bold text-gradient">Resumo</h2>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
          <div class="bg-white rounded-xl p-4 shadow">
            <div class="text-sm text-gray-500">Pedidos</div>
            <div id="kpiOrders" class="text-2xl font-bold">-</div>
          </div>
          <div class="bg-white rounded-xl p-4 shadow">
            <div class="text-sm text-gray-500">Pagos</div>
            <div id="kpiPaid" class="text-2xl font-bold">-</div>
          </div>
          <div class="bg-white rounded-xl p-4 shadow">
            <div class="text-sm text-gray-500">Pendentes</div>
            <div id="kpiPending" class="text-2xl font-bold">-</div>
          </div>
          <div class="bg-white rounded-xl p-4 shadow">
            <div class="text-sm text-gray-500">Receita</div>
            <div id="kpiRevenue" class="text-2xl font-bold">R$ -</div>
          </div>
        </div>
      </section>

      <!-- Reviews (Avaliações) -->
      <section id="tab-reviews" class="hidden space-y-4">
        <div class="flex items-center justify-between">
          <h2 class="text-2xl font-bold text-gradient">Avaliações</h2>
          <div class="text-sm text-gray-500">Aprovar, ocultar ou excluir avaliações</div>
        </div>
        <div class="bg-white rounded-xl p-4 shadow space-y-3">
          <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
            <div>
              <label class="text-sm text-gray-600">Buscar</label>
              <input id="reviewsSearch" class="w-full border rounded-lg p-2 mt-1" placeholder="Nome/email/ID do produto" />
            </div>
            <div>
              <label class="text-sm text-gray-600">Status</label>
              <select id="reviewsStatus" class="w-full border rounded-lg p-2 mt-1">
                <option value="all">Todos</option>
                <option value="approved">Aprovados</option>
                <option value="pending">Pendentes</option>
              </select>
            </div>
            <div class="flex items-end">
              <button id="reviewsRefresh" class="px-4 py-2 border rounded-lg hover:bg-gray-50">Recarregar</button>
            </div>
          </div>
        </div>
        <div class="bg-white rounded-xl p-4 shadow overflow-x-auto">
          <table class="min-w-full text-sm">
            <thead>
              <tr class="text-left text-gray-500">
                <th class="p-2">Produto</th>
                <th class="p-2">Usuário</th>
                <th class="p-2">Nota</th>
                <th class="p-2">Comentário</th>
                <th class="p-2">Status</th>
                <th class="p-2">Ações</th>
              </tr>
            </thead>
            <tbody id="reviewsTable"></tbody>
          </table>
        </div>
      </section>

      <!-- Promotions -->
      <section id="tab-promotions" class="hidden space-y-4">
        <div class="flex items-center justify-between">
          <h2 class="text-2xl font-bold text-gradient">Promoções</h2>
          <div class="text-sm text-gray-500">Selecione itens ou uma categoria, defina preço/%, e período</div>
        </div>
        <div class="bg-white rounded-xl p-4 shadow space-y-3">
          <div class="grid grid-cols-1 md:grid-cols-4 gap-3">
            <div>
              <label class="text-sm text-gray-600">Categoria</label>
              <select id="promoCategoryFilter" class="w-full border rounded-lg p-2 mt-1"></select>
            </div>
            <div>
              <label class="text-sm text-gray-600">Busca</label>
              <input id="promoSearch" class="w-full border rounded-lg p-2 mt-1" placeholder="Nome/ID" />
            </div>
            <div>
              <label class="text-sm text-gray-600">Início</label>
              <input id="promoStart" type="datetime-local" class="w-full border rounded-lg p-2 mt-1" />
            </div>
            <div>
              <label class="text-sm text-gray-600">Fim</label>
              <input id="promoEnd" type="datetime-local" class="w-full border rounded-lg p-2 mt-1" />
            </div>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
            <div>
              <label class="text-sm text-gray-600">Desconto (%)</label>
              <input id="promoPercent" type="number" min="0" max="90" step="1" class="w-full border rounded-lg p-2 mt-1" placeholder="Ex.: 20" />
            </div>
            <div>
              <label class="text-sm text-gray-600">Preço alvo (R$)</label>
              <input id="promoTargetPrice" type="number" min="0" step="0.01" class="w-full border rounded-lg p-2 mt-1" placeholder="Ex.: 199,90" />
            </div>
            <div class="flex items-end gap-2">
              <button id="promoApplyFiltered" class="w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700">Aplicar na categoria/filtrados</button>
            </div>
          </div>
        </div>

        <div class="bg-white rounded-xl p-4 shadow overflow-x-auto">
          <table class="min-w-full text-sm">
            <thead>
              <tr class="text-left text-gray-500">
                <th class="p-2"><input type="checkbox" id="promoSelectAll" /></th>
                <th class="p-2">Produto</th>
                <th class="p-2">Preço base</th>
                <th class="p-2">Preço alvo</th>
                <th class="p-2">Desconto (%)</th>
                <th class="p-2">Período</th>
                <th class="p-2">Com desconto</th>
                <th class="p-2">Ações</th>
              </tr>
            </thead>
            <tbody id="promotionsTable"></tbody>
          </table>
          <div class="mt-3 flex flex-wrap gap-2">
            <button id="promoApplySelected" class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700">Aplicar nos selecionados</button>
            <button id="promoClearSelected" class="px-4 py-2 border rounded-lg hover:bg-gray-50">Remover dos selecionados</button>
          </div>
        </div>
      </section>

      <!-- Products -->
      <section id="tab-products" class="hidden space-y-4">
        <div class="flex items-center justify-between">
          <h2 class="text-2xl font-bold text-gradient">Produtos</h2>
          <button id="btnOpenNewProduct" class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700">
            <i class="fas fa-plus mr-2"></i>Novo Produto
          </button>
        </div>
        <div class="bg-white rounded-xl p-4 shadow overflow-x-auto">
          <table class="min-w-full text-sm">
            <thead>
              <tr class="text-left text-gray-500">
                <th class="p-2">Nome</th>
                <th class="p-2">Preço</th>
                <th class="p-2">Categoria</th>
                <th class="p-2">Estoque</th>
                <th class="p-2">Ações</th>
              </tr>
            </thead>
            <tbody id="productsTable"></tbody>
          </table>
        </div>
      </section>

      <!-- Orders -->
      <section id="tab-orders" class="hidden space-y-4">
        <h2 class="text-2xl font-bold text-gradient">Pedidos</h2>
        <div class="bg-white rounded-xl p-4 shadow overflow-x-auto">
          <table class="min-w-full text-sm">
            <thead>
              <tr class="text-left text-gray-500">
                <th class="p-2">ID</th>
                <th class="p-2">Cliente</th>
                <th class="p-2">Itens</th>
                <th class="p-2">Total</th>
                <th class="p-2">Pagamento</th>
                <th class="p-2">Status</th>
                <th class="p-2">Ações</th>
              </tr>
            </thead>
            <tbody id="ordersTable"></tbody>
          </table>
        </div>
      </section>
    </main>
  </div>

  <!-- New Product Modal -->
  <div id="newProductModal" class="fixed inset-0 bg-black/50 hidden z-50">
    <div class="absolute inset-0" data-close></div>
    <div class="bg-white rounded-xl max-w-lg w-full mx-auto mt-16 p-6 shadow-xl relative">
      <h3 class="text-xl font-bold mb-4">Novo Produto</h3>
      <form id="newProductForm" class="space-y-3">
        <input class="w-full border rounded-lg p-2" placeholder="Nome" name="name" required />
        <input class="w-full border rounded-lg p-2" placeholder="Preço" name="price" type="number" min="0" step="0.01" required />
        <label class="block">
          <span class="text-sm text-gray-600">Categoria</span>
          <select id="categorySelect" name="category" class="w-full border rounded-lg p-2 mt-1"></select>
        </label>
        <label id="categoryCustomWrap" class="block hidden">
          <span class="text-sm text-gray-600">Categoria personalizada</span>
          <input id="categoryCustom" class="w-full border rounded-lg p-2 mt-1" placeholder="Digite a categoria" />
        </label>
        <label class="block">
          <span class="text-sm text-gray-600">Liga</span>
          <select id="leagueSelect" name="league" class="w-full border rounded-lg p-2 mt-1"></select>
        </label>
        <label class="block">
          <span class="text-sm text-gray-600">Time</span>
          <input id="teamInput" class="w-full border rounded-lg p-2 mt-1" placeholder="Pesquisar time" name="team" list="teamsList" />
          <datalist id="teamsList"></datalist>
        </label>
        <input class="w-full border rounded-lg p-2" placeholder="URL da Imagem" name="image" />
        <input class="w-full border rounded-lg p-2" placeholder="Estoque" name="stock" type="number" min="0" />
        <div class="flex justify-end gap-2 pt-2">
          <button type="button" data-close class="px-4 py-2 border rounded-lg">Cancelar</button>
          <button class="px-4 py-2 bg-green-600 text-white rounded-lg">Salvar</button>
        </div>
      </form>
    </div>
  </div>

  <script type="module" src="./js/admin.js"></script>
</body>
</html>
